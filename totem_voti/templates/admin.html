<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Admin - Aggiungi Dipendente</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<h1>Gestione dipendenti</h1>

<a href="{{ url_for('index') }}">
  <button style="margin: 20px; font-size: 20px; padding: 10px 20px;">
    Torna all'inizio
  </button>
</a>


<h2>Aggiungi nuovo dipendente</h2>
<form method="post" enctype="multipart/form-data">
  <p><input type="text" name="nome" placeholder="Nome dipendente" required></p>
  <p><input type="file" name="foto" accept="image/*" required></p>
  <button type="submit">Aggiungi</button>
</form>

<h2>Dipendenti attuali</h2>
<div class="grid">
{% for id, nome, foto in dipendenti %}
  <div class="card">
    <img src="{{ url_for('static', filename='foto/' + foto) }}">
    <p>{{ nome }}</p>

    <!-- Form per modificare -->
    <form method="post" action="{{ url_for('edit_dipendente', dipendente_id=id) }}" enctype="multipart/form-data">
      <input type="text" name="nome" value="{{ nome }}" required>
      <input type="file" name="foto" accept="image/*">
      <button type="submit">Modifica</button>
    </form>

    <!-- Form per cancellare -->
    <form method="post" action="{{ url_for('delete_dipendente', dipendente_id=id) }}">
      <button type="submit" onclick="return confirm('Sei sicuro di voler eliminare {{ nome }}?')">
        Elimina
      </button>
    </form>
  </div>
{% endfor %}
</div>


</body>
</html>
